<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
        <title>{{title}}</title>         
        <meta name="keywords" content="dlang,d,hunt" />
        <meta name="description" content="D语言中文社区是一个以D语言内容为主的IT技术社区，致力于为文字爱好者、技术爱好者提供知识分享以及互动交流的平台。" />
       
        <link rel="icon" href="/favicon.ico" type="image/x-icon"/>
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
        <script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
        <script type="text/javascript" src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="//cdn.bootcss.com/lodash.js/4.17.4/lodash.min.js"></script>
        <script src="/wwwroot/js/translator.min.js"></script>
        <script src="/wwwroot/js/assets.js"></script>
        <script type="text/javascript" src="/wwwroot/js/manifest.1.js"></script>
        <script type="text/javascript" src="/wwwroot/js/vendor.1.js"></script>
        <script type="text/javascript" src="/wwwroot/js/topic.1.js"></script>
        <script src="/wwwroot/js/markdown.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/1.7.1/remarkable.js"></script>
        <script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
        <link href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
        <link href="//at.alicdn.com/t/font_382846_vv6qhg7b1tn.css"  rel="stylesheet">
        <link href="/wwwroot/css/vendor.1.css" rel="stylesheet">
        <link href="/wwwroot/css/style.1.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">

        <script>
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?2c90d5dd217ebc4a0d14a61fde2aa1fa";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
            function formatMsgTime (timespan) {
                var timespan = parseInt(timespan)*1000;
                var dateTime = new Date(timespan);
              
                var year = dateTime.getFullYear();
                var month = dateTime.getMonth() + 1;
                var day = dateTime.getDate();
                var hour = dateTime.getHours();
                var minute = dateTime.getMinutes();
                var second = dateTime.getSeconds();
                var now = new Date();
                var now_new = Date.parse(Date());  //typescript转换写法
              
                var milliseconds = 0;
                var timeSpanStr;
              
                milliseconds = now_new - timespan;
              
                if (milliseconds <= 1000 * 60 * 1) {
                  timeSpanStr = '刚刚';
                }
                else if (1000 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60) {
                  timeSpanStr = Math.round((milliseconds / (1000 * 60))) + '分钟前';
                }
                else if (1000 * 60 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24) {
                  timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60)) + '小时前';
                }
                else if (1000 * 60 * 60 * 24 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24 * 15) {
                  timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60 * 24)) + '天前';
                }
                else if (milliseconds > 1000 * 60 * 60 * 24 * 15 && year == now.getFullYear()) {
                  timeSpanStr = month + '-' + day + ' ' + hour + ':' + minute;
                } else {
                  timeSpanStr = year + '-' + month + '-' + day + ' ' + hour + ':' + minute;
                }
                return timeSpanStr;
              };
        </script>
        
    </head>
    <body>
        <div class="main-body">
            <div class="navbar navbar-default navbar-fixed-top" role="banner" data-role="navbar">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".header-navbar-collapse">
                            <span class="sr-only">aaa</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand logo" href="/"><img src="/wwwroot/images/dlangchina.png" class="img-responsive"/></a>
                    </div>
                    <nav class="collapse navbar-collapse header-navbar-collapse" role="navigation">
                        <ul class="nav navbar-nav">
                            <li class="active first">        
                                    <a href="/">首页</a>        
                            </li>
                            <li class="second">        
                                    <a href="/forums">版面</a>        
                            </li>
         
                               
                    </ul>
                    <form class="navbar-form navbar-left top-search" action="/search">
                        <div class="form-group">
                            <input type="text" name="q" value class="form-control query" placeholder="搜索">
                        </div>
                        <button type="submit" class="btn btn-default"><i class="if i-search"></i></button>
                    </form>
                        <ul class="nav navbar-nav navbar-right nav-profile">
                            {% if userislogin == 1 %}
                                <li class="nav-notifications">
                                    <a href="">
                                        <i class="if i-bell-o"></i>
                                        
                                        <!-- <span class="badge notification-number{% if unreadNotificationNumber %} has-message {% endif %}" id="notification-number" data-number="{{ unreadNotificationNumber }}"> -->
                                            <span class="badge notification-number{% if unreadNotificationNumber %}  {% endif %}" id="notification-number" data-number="{{ unreadNotificationNumber }}">

                                        </span>
                                    </a>
                                </li>
                                <li class="dropdown">
                                    <a href="{{ path('topic_add') }}" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                        <i class="if i-plus-bold"></i>
                                    </a>
                                    <ul class="dropdown-menu popover-menu">
                                        <li role="separator" class="arrow"></li>
                                        <li><a href="/thread/add"><i class="if i-comment-square"></i> 发起话题</a></li>
                                       
                                    </ul>
                                </li>
                                <li class="dropdown nav-user">
                                    <a class="dropdown-toggle avatar" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                        <img src="/wwwroot/images/medium-default-avatar.png"  class="img-responsive img-circle"/>
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu popover-menu">
                                        <li role="separator" class="arrow"></li>
                                        <li><a href="/user/{{user.id}}"><i class="if i-user"></i> 我的主页</a></li>
                                      
                                        <li><a href="/logout"><i class="if i-logout"></i> 退出</a></li>
                                    </ul>
                                </li>
                            {% else %}
                                <li>
                                    <a href="/login">登录</a>
                                </li>
                                <li>
                                    <a href="/join" class="">注册</a>
                                </li>
                            {% endif %}
                        </ul>
                    </nav>
                </div>
            </div>




        



